# üöÄ Chemical Project

Fullstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å NestJS backend, React frontend, Directus CMS –∏ PostgreSQL.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
D:\projects\chemical\
‚îú‚îÄ‚îÄ .env                    ‚Üê –í–°–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ó–î–ï–°–¨!
‚îú‚îÄ‚îÄ .env_example            ‚Üê –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ docker-compose.yml      ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ nginx/                  ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Nginx
‚îú‚îÄ‚îÄ server/                 ‚Üê Backend (NestJS)
‚îú‚îÄ‚îÄ frontend/               ‚Üê Frontend (React + Vite)
‚îú‚îÄ‚îÄ directus/               ‚Üê Directus CMS –¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ postgres_data/          ‚Üê –î–∞–Ω–Ω—ã–µ PostgreSQL
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`

```bash
cp .env_example .env
```

### 2. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

```env
# –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –î–û–õ–ñ–ù–´ –±—ã—Ç—å –û–î–ò–ù–ê–ö–û–í–´–ú–ò!
JWT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
DIRECTUS_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞

# –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
DIRECTUS_KEY=–¥—Ä—É–≥–æ–π_—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∫–ª—é—á
DB_PASSWORD=—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
ADMIN_PASSWORD=—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å_–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```

–¢–∞–∫–∂–µ —É–∫–∞–∂–∏—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ `192.168.0.33`):

```env
PUBLIC_URL=http://–í–ê–®_IP/cms
CORS_ORIGIN=http://localhost,http://localhost:5173,http://127.0.0.1,http://–í–ê–®_IP
REFRESH_TOKEN_DOMAIN=.–í–ê–®_IP
SESSION_COOKIE_DOMAIN=.–í–ê–®_IP
VITE_API_URL=http://–í–ê–®_IP/api
VITE_DIRECTUS_URL=http://–í–ê–®_IP/cms
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
docker-compose up -d --build
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
docker-compose ps
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

- **Frontend**: http://–í–ê–®_IP/
- **Backend API**: http://–í–ê–®_IP/api/
- **Swagger API Docs**: http://–í–ê–®_IP/api/api
- **Directus CMS**: http://–í–ê–®_IP/cms/
  - Email: `admin@example.com` (–∏–ª–∏ –∏–∑ `ADMIN_EMAIL`)
  - Password: `admin1234` (–∏–ª–∏ –∏–∑ `ADMIN_PASSWORD`)

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Backend (Dev —Ä–µ–∂–∏–º)

```bash
cd server
npm install
npm run start:dev
```

Backend –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ **–∫–æ—Ä–Ω–µ–≤–æ–≥–æ `.env`** —Ñ–∞–π–ª–∞ (`../env` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞–ø–∫–∏ `server/`).

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [server/README_DEV.md](server/README_DEV.md)

### Frontend (Dev —Ä–µ–∂–∏–º)

```bash
cd frontend
npm install
npm run dev
```

## üìù –í–∞–∂–Ω–æ –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

- **–û–¥–∏–Ω `.env` —Ñ–∞–π–ª** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `D:\projects\chemical\.env`
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –±–µ—Ä—É—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ
- –í dev —Ä–µ–∂–∏–º–µ backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `envFilePath: '../.env'`
- –í Docker –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `env_file: - .env`

### ‚ùå –ù–ï–ø—Ä–∞–≤–∏–ª—å–Ω–æ

- ~~`server/.env`~~ - –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ!
- ~~`frontend/.env`~~ - –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ!
- ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö~~

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
docker-compose logs -f directus

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart backend

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up -d --build

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –ë–î (–û–°–¢–û–†–û–ñ–ù–û!)
docker-compose down -v
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

1. ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π `JWT_SECRET` (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ –∫–ª—é—á –¥–ª—è `DIRECTUS_SECRET`
3. ‚úÖ –°–º–µ–Ω–∏—Ç–µ `DIRECTUS_KEY`
4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (`DB_PASSWORD`, `ADMIN_PASSWORD`)
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/HTTPS –≤ nginx
6. ‚úÖ –î–ª—è HTTPS —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `*_COOKIE_SECURE=true`
7. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ `CORS_ORIGIN`

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs –∏–º—è_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache –∏–º—è_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose down
docker-compose up -d --build
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker-compose exec postgres psql -U postgres -d app_db -c "SELECT 1"

# –°–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres psql -U postgres -c "\l"
```

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ dev —Ä–µ–∂–∏–º–µ

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ **–ù–ï–¢** —Ñ–∞–π–ª–∞ `server/.env`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Backend](server/README_DEV.md)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](SETUP.md)

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: NestJS, TypeORM, PostgreSQL
- **Frontend**: React, Vite, TypeScript
- **CMS**: Directus
- **Proxy**: Nginx
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose

---

**–í–∞–∂–Ω–æ:** –§–∞–π–ª `.env` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ git!
